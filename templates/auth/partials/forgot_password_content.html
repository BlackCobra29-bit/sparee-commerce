<main id="auth-page" class="auth-shell">
  <section class="auth-grid">
    <aside class="auth-side">
      <a href="{% url 'home' %}" class="go-home">Back to Store</a>
      <div class="brand-pill" style="margin-top:14px;">
        <span class="brand-dot"><i class="fas fa-unlock-alt"></i></span>
        <span>Wahid Pro Recovery</span>
      </div>
      <h2 class="auth-headline">Reset your account access securely.</h2>
      <p class="auth-copy">
        Enter your email and we will send recovery instructions if your account exists in our system.
      </p>
      <div class="stats">
        <div class="stat-card">
          <span>Credential recovery flow</span>
          <b>Protected</b>
        </div>
        <div class="stat-card">
          <span>Account lookup signal</span>
          <b>Private</b>
        </div>
        <div class="stat-card">
          <span>Session integrity</span>
          <b>Monitored</b>
        </div>
      </div>
    </aside>

    <section class="auth-form-wrap">
      <h1>Forgot password</h1>
      <p class="subline">Submit your account email to begin password recovery.</p>

      {% if messages %}
      <div class="alert-stack">
        {% for message in messages %}
        <div class="alert-item {% if message.tags == 'error' %}error{% else %}success{% endif %}">
          {{ message }}
        </div>
        {% endfor %}
      </div>
      {% endif %}

      <form method="post" action="{% url 'forgot_password' %}" class="form-grid" data-parsley-validate
            hx-post="{% url 'forgot_password' %}" hx-target="#auth-page" hx-swap="outerHTML">
        {% csrf_token %}

        <div class="field">
          <label for="email">Account Email</label>
          <input id="email" name="email" type="email" class="input" required autocomplete="email"
                 data-parsley-type="email"
                 data-parsley-required-message="Email is required."
                 data-parsley-type-message="Enter a valid email address."
                 placeholder="name@company.com">
        </div>

        <button class="btn-brand" type="submit">Send Reset Link</button>
      </form>

      <div class="helper-links">
        <a href="{% url 'login' %}" hx-get="{% url 'login' %}"
           hx-target="#auth-page" hx-swap="outerHTML" hx-push-url="true">Back to sign in</a>
        <a href="{% url 'signup' %}" hx-get="{% url 'signup' %}"
           hx-target="#auth-page" hx-swap="outerHTML" hx-push-url="true">Create account</a>
      </div>
    </section>
  </section>
</main>
