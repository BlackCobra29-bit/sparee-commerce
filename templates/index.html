{% extends 'base.html' %}

{% block 'main-content' %}
  <!-- HERO -->
  <header class="hero py-4 py-lg-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-4 mb-lg-0 hero-left" data-aos="fade-right">
          <div class="d-flex flex-wrap align-items-center mb-3">
            <span class="badge badge-soft px-3 py-2 mr-2 mb-2">
              <i class="fas fa-check-circle mr-2"></i>Verified Product Sellers
            </span>
            <span class="badge badge-ghost px-3 py-2 mr-2 mb-2">
              <i class="fas fa-shield-alt mr-2"></i>Trusted
            </span>
          </div>

          <h1 class="display-4 font-weight-bold mb-3" style="line-height:1.05;">
            Clarity for the people shaping <span style="color:var(--brand)">smart part</span> decisions.
          </h1>

          <p class="lead muted mb-4">
            Wahid Pro turns complex fitment and VIN data into crisp, confident decisions for garages,
            fleets, and serious parts buyers.
          </p>

          <div class="mt-4 d-flex flex-wrap">
            <button class="btn btn-primary btn-lg mr-2 mb-2"
              onclick="document.querySelector('#shop').scrollIntoView({behavior:'smooth'})">
              <i class="fas fa-store mr-2"></i>Browse Parts
            </button>
          </div>

          <div class="mt-3 muted">
            Focus: Ethiopia &bull; Neutral, verified, decisive
          </div>
        </div>

        <div class="col-lg-6" data-aos="fade-left">
          <div class="hero-stack">
            <div class="hero-card hero-card--tilt">
              <div class="label">DAILY SIGNAL</div>
              <div class="title">The parts data you need, without the noise.</div>
              <div class="meta mt-2">Search, fitment, and VIN cross-reference in one place.</div>
            </div>

            <div class="hero-card">
              <div class="d-flex align-items-center justify-content-between mb-2">
                <div class="font-weight-bold">Coverage</div>
                <span class="badge badge-soft">Updated</span>
              </div>
              <div class="meta">Brakes &bull; Filters &bull; Ignition &bull; Exhaust &bull; Suspension</div>
            </div>

            <div class="hero-card compact">
              <div class="logo-badge">W</div>
              <div>
                <div class="label">WAHID PRO</div>
                <div class="meta">Independent spare-parts intelligence.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN SHOP -->
  <main class="py-4 mt-3" id="shop">
    <div class="container" data-aos="fade-up">
      <!-- TOP BAR -->
      <div class="d-flex flex-wrap align-items-center justify-content-between mb-3">
        <div class="d-flex align-items-center mb-2 mb-md-0">
          <h2 class="h4 font-weight-bold mb-0 mr-3">Shop Parts</h2>
          <span class="muted">Showing <b id="resultCount">0</b> items</span>
          <span class="badge badge-ghost ml-3 d-none d-md-inline" id="savedVehicle">No vehicle saved</span>
        </div>

        <div class="d-flex align-items-center">
          <button class="btn btn-outline-light mr-2" data-toggle="modal" data-target="#filtersModal">
            <i class="fas fa-sliders-h mr-2"></i>Filters
            <span class="badge badge-light ml-2" id="activeFilters">0</span>
          </button>

          <select class="custom-select mr-2" id="sortBy" style="width:220px">
            <option value="relevance">Sort: Relevance</option>
            <option value="priceAsc">Price: Low to High</option>
            <option value="priceDesc">Price: High to Low</option>
            <option value="ratingDesc">Rating: High to Low</option>
            <option value="stockDesc">Stock: High to Low</option>
          </select>

          <button class="btn btn-outline-light" id="btnReset">
            <i class="fas fa-undo mr-2"></i>Reset
          </button>
        </div>
      </div>

      <!-- GRID -->
      <div class="row" id="productGrid">
        <!-- skeletons -->
      </div>

      <div class="text-center mt-3">
        <button class="btn btn-outline-light" id="btnLoadMore">
          <i class="fas fa-plus mr-2"></i>Load More
        </button>
      </div>
    </div>
  </main>

  <!-- HOW IT WORKS -->
  <section class="py-4" id="guides">
    <div class="container" data-aos="fade-up">
      <div class="panel roadmap-shell">
        <div class="panel-h d-flex align-items-center justify-content-between">
          <div class="font-weight-bold"><i class="fas fa-route mr-2"></i>How Wahid Pro Works</div>
          <span class="muted small">End-to-end flow in 4 steps</span>
        </div>
        <div class="panel-b">
          <div class="workflow-flow">
            <div class="workflow-track" aria-hidden="true"></div>
            <div class="workflow-grid">
              <article class="workflow-step" data-aos="fade-up" data-aos-delay="60">
                <div class="workflow-step-no">01</div>
                <div class="workflow-icon"><i class="fas fa-search"></i></div>
                <h6>Find The Right Part</h6>
                <p>Search using VIN, category, or product name and get exact matching options fast.</p>
              </article>

              <article class="workflow-step" data-aos="fade-up" data-aos-delay="120">
                <div class="workflow-step-no">02</div>
                <div class="workflow-icon"><i class="fas fa-balance-scale"></i></div>
                <h6>Compare Smartly</h6>
                <p>Compare verified sellers, prices, stock levels, and product ratings in one view.</p>
              </article>

              <article class="workflow-step" data-aos="fade-up" data-aos-delay="180">
                <div class="workflow-step-no">03</div>
                <div class="workflow-icon"><i class="fas fa-shopping-cart"></i></div>
                <h6>Checkout With Confidence</h6>
                <p>Add your selected products to cart, confirm quantity, then submit your order securely.</p>
              </article>

              <article class="workflow-step" data-aos="fade-up" data-aos-delay="240">
                <div class="workflow-step-no">04</div>
                <div class="workflow-icon"><i class="fas fa-star"></i></div>
                <h6>Track and Rate</h6>
                <p>Track delivery status and rate purchased products to improve marketplace quality.</p>
              </article>
            </div>
          </div>

          <div class="workflow-cta d-flex flex-wrap align-items-center justify-content-between mt-3">
            <div class="muted mb-2 mb-md-0">Need help in any step? Support is available for fitment and order updates.</div>
            <button class="btn btn-primary" onclick="document.querySelector('#support').scrollIntoView({behavior:'smooth'})">
              <i class="fas fa-headset mr-2"></i>Go to Support
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SUPPORT -->
  <section class="py-4" id="support">
    <div class="container" data-aos="fade-up">
      <div class="panel support-shell">
        <div class="panel-b p-0">
          <div class="row no-gutters">
            <div class="col-lg-5 support-left">
              <div class="support-left-inner">
                <div class="support-kicker">Premium Assistance</div>
                <h4 class="font-weight-bold mb-2">Need help with a part or order?</h4>
                <p class="muted mb-4">Our support team helps with fitment, order issues, and seller communication.</p>

                <div class="support-contact-card mb-3">
                  <div class="support-icon"><i class="fas fa-envelope"></i></div>
                  <div>
                    <div class="font-weight-bold">Email</div>
                    <div class="muted small">support@wahid.example</div>
                  </div>
                </div>

                <div class="support-contact-card mb-3">
                  <div class="support-icon"><i class="fas fa-phone-alt"></i></div>
                  <div>
                    <div class="font-weight-bold">Phone</div>
                    <div class="muted small">+251 000 000 000</div>
                  </div>
                </div>

                <div class="support-contact-card mb-4">
                  <div class="support-icon"><i class="fas fa-clock"></i></div>
                  <div>
                    <div class="font-weight-bold">Hours</div>
                    <div class="muted small">Mon-Sat, 9:00-18:00</div>
                  </div>
                </div>

                <div class="d-flex flex-wrap">
                  <button class="btn btn-outline-light btn-sm mr-2 mb-2" onclick="toast('Chat', 'Live chat is starting soon.')">
                    <i class="fas fa-comments mr-1"></i>Live Chat
                  </button>
                  <button class="btn btn-outline-light btn-sm mb-2" onclick="toast('Help', 'Support ticket opened.')">
                    <i class="fas fa-life-ring mr-1"></i>Open Ticket
                  </button>
                </div>
              </div>
            </div>

            <div class="col-lg-7 support-right">
              <div class="support-form-wrap">
                <div class="d-flex align-items-center justify-content-between mb-3">
                  <h5 class="font-weight-bold mb-0"><i class="fas fa-paper-plane mr-2"></i>Contact Us</h5>
                  <span class="badge badge-soft">Response in 24h</span>
                </div>
                <form id="contactUsFormModal" data-submit-url="{% url 'contact_message_create' %}" data-parsley-validate novalidate>
                  <div class="form-row">
                    <div class="col-md-6 mb-3">
                      <label class="small text-uppercase mb-1">Name</label>
                      <input type="text" class="form-control support-input" name="name" placeholder="Your full name" required data-parsley-required-message="Name is required." data-parsley-trigger="change blur">
                    </div>
                    <div class="col-md-6 mb-3">
                      <label class="small text-uppercase mb-1">Email</label>
                      <input type="email" class="form-control support-input" name="email" placeholder="you@example.com" required data-parsley-type="email" data-parsley-required-message="Email is required." data-parsley-type-message="Enter a valid email address." data-parsley-trigger="change blur">
                    </div>
                  </div>
                  <div class="form-group mb-3">
                    <label class="small text-uppercase mb-1">Subject</label>
                    <input type="text" class="form-control support-input" name="subject" placeholder="What do you need help with?" required data-parsley-required-message="Subject is required." data-parsley-maxlength="180" data-parsley-maxlength-message="Subject must be 180 characters or less." data-parsley-trigger="change blur">
                  </div>
                  <div class="form-group mb-3">
                    <label class="small text-uppercase mb-1">Message</label>
                    <textarea class="form-control support-input" name="message_body" rows="6" placeholder="Write your message here..." required data-parsley-required-message="Message is required." data-parsley-minlength="10" data-parsley-minlength-message="Message should be at least 10 characters." data-parsley-trigger="change blur"></textarea>
                  </div>
                  <button type="submit" class="btn btn-primary btn-block support-send-btn" id="contactUsSubmitBtn">
                    <i class="fas fa-paper-plane mr-2"></i>Submit Message
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <!-- FOOTER -->
  <footer class="footer py-4 mt-4">
    <div class="container" data-aos="fade-up">
      <div class="row">
        <div class="col-md-6">
          <div class="font-weight-bold">Wahid Pro</div>
          <div class="muted small">Reliable spare-parts platform for verified search and ordering.</div>
        </div>
        <div class="col-md-6 text-md-right mt-3 mt-md-0">
          <a href="#shop" class="mr-3">Shop</a>
          <a href="#guides" class="mr-3">Guides</a>
          <a href="#support" class="mr-3">Support</a>
          <a href="#support">Contact</a>
        </div>
      </div>

    </div>
  </footer>

  <!-- FLOATING COMPARE DOCK -->
  <div class="dock" id="compareDock">
    <div class="inner">
      <div class="d-flex align-items-center justify-content-between flex-wrap">
        <div class="d-flex align-items-center">
          <div class="font-weight-bold mr-3"><i class="fas fa-balance-scale mr-2"></i>Compare</div>
          <div class="muted small">Select up to 3 parts</div>
        </div>
        <div class="d-flex align-items-center mt-2 mt-md-0">
          <div class="mini mr-2"><span class="muted">Selected:</span> <b id="dockCount">0</b></div>
          <button class="btn btn-primary mr-2" data-toggle="modal" data-target="#compareModal">
            <i class="fas fa-columns mr-2"></i>Open
          </button>
          <button class="btn btn-outline-light" onclick="clearCompare()">
            <i class="fas fa-trash mr-2"></i>Clear
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- FILTERS MODAL (mobile-first filters) -->
  <div class="modal fade" id="filtersModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold"><i class="fas fa-sliders-h mr-2"></i>Advanced Filters</h5>
          <button type="button" class="close" style="color:var(--text)"
            data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-lg-6">
              <div class="panel mb-3">
                <div class="panel-h font-weight-bold">Category</div>
                <div class="panel-b">
	                  <select class="custom-select" id="filterCategory">
	                    <option value="All">All</option>
	                    {% for category in shop_category_options %}
	                    <option value="{{ category.value }}">{{ category.label }}</option>
	                    {% endfor %}
	                  </select>
                </div>
              </div>

              <div class="panel mb-3">
                <div class="panel-h font-weight-bold">Brand</div>
                <div class="panel-b">
	                  <select class="custom-select" id="filterBrand">
	                    <option value="All">All</option>
	                    {% for brand in shop_brand_options %}
	                    <option value="{{ brand }}">{{ brand }}</option>
	                    {% endfor %}
	                  </select>
                </div>
              </div>
            </div>

            <div class="col-lg-6">
              <div class="panel mb-3">
                <div class="panel-h font-weight-bold">Price Range (ETB)</div>
                <div class="panel-b">
                  <div class="form-row">
                    <div class="col-6">
                      <input class="form-control" id="minPrice" placeholder="Min" type="number" min="0" />
                    </div>
                    <div class="col-6">
                      <input class="form-control" id="maxPrice" placeholder="Max" type="number" min="0" />
                    </div>
                  </div>
                  <small class="muted">Example: 10 &mdash; 120</small>
                </div>
              </div>

              <div class="panel mb-3">
                <div class="panel-h font-weight-bold">Rating</div>
                <div class="panel-b">
                  <div class="custom-control custom-radio">
                    <input type="radio" id="rAll" name="rating" class="custom-control-input" checked>
                    <label class="custom-control-label" for="rAll">Any</label>
                  </div>
                  <div class="custom-control custom-radio mt-2">
                    <input type="radio" id="r4" name="rating" class="custom-control-input">
                    <label class="custom-control-label" for="r4">4★ & up</label>
                  </div>
                  <div class="custom-control custom-radio mt-2">
                    <input type="radio" id="r45" name="rating" class="custom-control-input">
                    <label class="custom-control-label" for="r45">4.5★ & up</label>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <hr class="divider">

          <div class="d-flex flex-wrap">
            <button class="btn btn-primary mr-2 mb-2" id="btnApply" data-dismiss="modal">
              <i class="fas fa-check mr-2"></i>Apply
            </button>
            <button class="btn btn-outline-light mb-2" id="btnReset2" data-dismiss="modal">
              <i class="fas fa-undo mr-2"></i>Reset
            </button>
            <div class="ml-auto muted mt-2">Tip: Filters and search work together for instant narrowing.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- QUICK VIEW MODAL -->
  <div class="modal fade" id="quickView" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold" id="qvTitle">Product</h5>
          <button type="button" class="close" style="color:var(--text)"
            data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-6 mb-3 mb-md-0">
              <div class="p-img" style="border-radius:16px; border:1px solid var(--line)">
                <img id="qvImg" alt="Product image" src="">
              </div>
              <div class="muted small mt-2" id="qvMeta"></div>

              <div class="panel mt-3" style="background:var(--glass2)">
                <div class="panel-b">
                  <div class="font-weight-bold mb-2"><i class="fas fa-user-tie mr-2"></i>Seller</div>
                  <div class="d-flex align-items-center">
                    <img
                      id="qvSellerPhoto"
                      src=""
                      alt="Seller profile"
                      class="rounded-circle mr-2"
                      style="width:44px; height:44px; object-fit:cover; border:1px solid var(--line);">
                    <div>
                      <div class="font-weight-bold d-flex align-items-center">
                        <span id="qvSellerName">Unknown Seller</span>
                        <span
                          class="ml-2 d-inline-flex align-items-center justify-content-center"
                          aria-label="Verified seller"
                          title="Verified seller"
                          style="width:20px;height:20px;line-height:0;flex:0 0 20px;">
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 24 24"
                            role="img"
                            aria-hidden="true"
                            style="display:block;">
                            <path fill="#18A7E0"
                              d="M12 1.8l2.18 1.57 2.64-.45 1.57 2.18 2.61.62.45 2.64 2.18 1.57-.62 2.61.62 2.61-2.18 1.57-.45 2.64-2.61.62-1.57 2.18-2.64-.45L12 22.2l-2.18-1.57-2.64.45-1.57-2.18-2.61-.62-.45-2.64L.37 14.07.99 11.46.37 8.85l2.18-1.57.45-2.64 2.61-.62 1.57-2.18 2.64.45L12 1.8z" />
                            <path fill="#fff" d="M10.2 15.9l-3-3 1.4-1.4 1.6 1.6 5.2-5.2 1.4 1.4-6.6 6.6z" />
                          </svg>
                        </span>
                      </div>
                      <div class="muted small">Verified seller panel</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="d-flex align-items-center justify-content-between">
                <div class="price h3 mb-0" id="qvPrice">0.00 ETB</div>
                <div class="rating" id="qvRating"></div>
              </div>
              <div class="mt-2" id="qvRateBox">
                <span class="muted small mr-2">Rate this product:</span>
                <span id="qvRateStars" class="d-inline-flex align-items-center"></span>
              </div>

              <p class="muted mt-2" id="qvDesc"></p>

              <div class="panel" style="background:var(--glass2)">
                <div class="panel-b">
                  <div class="d-flex align-items-center justify-content-between mb-2">
                    <span class="badge badge-soft" id="qvFitBadge">Details</span>
                  </div>
                  <ul class="muted mb-0" style="padding-left:18px">
                    <li>Category: <span id="qvCategory"></span></li>
                    <li>Stock: <span id="qvStock"></span></li>
                    <li>Seller: <span id="qvSeller"></span></li>
                    <li>VIN: <span id="qvSku"></span></li>
                  </ul>
                </div>
              </div>

              <div class="d-flex mt-3">
                <button class="btn btn-success btn-block mr-2" id="qvAdd">
                  <i class="fas fa-cart-plus mr-2"></i>Add to Cart
                </button>
                <button class="btn btn-outline-light btn-block" onclick="toast('Share', 'Share link copied.')">
                  <i class="fas fa-share-alt mr-2"></i>Share
                </button>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- RATE CONFIRM MODAL -->
  <div class="modal fade" id="rateConfirmModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold"><i class="fas fa-star mr-2"></i>Rate Product</h5>
          <button type="button" class="close" style="color:var(--text)" data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="muted mb-2">Choose your rating:</div>
          <div id="rateConfirmStars" class="rating mb-2"></div>
          <div id="rateConfirmValue" class="small mb-2">Selected: 0 / 5</div>
          <div class="small muted" id="rateConfirmProduct"></div>
          <div class="small text-warning mt-2">You can rate only once per product.</div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-light" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="rateConfirmSubmit" disabled>Submit</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FITMENT WIZARD MODAL -->
  <div class="modal fade" id="fitmentWizard" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold"><i class="fas fa-magic mr-2"></i>Fitment Wizard</h5>
          <button type="button" class="close" style="color:var(--text)"
            data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="panel mb-3" style="background:var(--glass2)">
            <div class="panel-b">
              <div class="d-flex align-items-center justify-content-between">
                <div class="font-weight-bold">Step <span id="wizStep">1</span> / 3</div>
                <div class="muted small" id="wizHint">Select a Make</div>
              </div>
              <div class="progress mt-2" style="height:10px;border-radius:999px;background:rgba(255,255,255,.08)">
                <div class="progress-bar" id="wizProg"
                  style="width:33%;border-radius:999px;background:linear-gradient(90deg,var(--brand),var(--brand2));">
                </div>
              </div>
            </div>
          </div>

          <div id="wizBody"></div>

        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-light" id="wizBack">Back</button>
          <button class="btn btn-primary" id="wizNext">Next</button>
        </div>
      </div>
    </div>
  </div>

  <!-- COMPARE MODAL -->
  <div class="modal fade" id="compareModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold"><i class="fas fa-balance-scale mr-2"></i>Compare Parts</h5>
          <button type="button" class="close" style="color:var(--text)"
            data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="muted mb-3">Compare is stored in localStorage. Select up to 3 items.</div>
          <div class="table-responsive">
            <table class="table table-dark table-hover mb-0" style="background:transparent;">
              <thead>
                <tr>
                  <th>Field</th>
                  <th id="c1">&mdash;</th>
                  <th id="c2">&mdash;</th>
                  <th id="c3">&mdash;</th>
                </tr>
              </thead>
              <tbody id="compareTable"></tbody>
            </table>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-light" onclick="clearCompare()"><i class="fas fa-trash mr-2"></i>Clear</button>
          <button class="btn btn-primary" data-dismiss="modal">Done</button>
        </div>
      </div>
    </div>
  </div>

  <!-- CART MODAL -->
  <div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold"><i class="fas fa-shopping-cart mr-2"></i>Your Cart</h5>
          <button type="button" class="close" style="color:var(--text)"
            data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="table-responsive cart-table-wrap rounded-4">
            <table class="table table-hover align-middle mb-0 cart-table">
              <thead class="table-dark">
                <tr>
                  <th scope="col" class="ps-3">Seller</th>
                  <th scope="col">Item</th>
                  <th scope="col" class="text-end">Price</th>
                  <th scope="col" class="text-center">Qty</th>
                  <th scope="col" class="text-end">Total</th>
                  <th scope="col" class="text-end pe-3" style="width:56px;">Remove</th>
                </tr>
              </thead>
              <tbody id="cartTable" class="table-group-divider"></tbody>
            </table>
          </div>

          <div class="d-flex align-items-center justify-content-between mt-3">
            <div class="muted">
              Total amount of money you will cost.
            </div>
            <div class="text-right">
              <div class="muted">Subtotal</div>
              <div class="h3 price mb-0" id="cartSubtotal">0.00 ETB</div>
            </div>
          </div>

          <hr class="divider">

          <div class="d-flex flex-wrap">
            <button class="btn btn-outline-light mr-2 mb-2" onclick="clearCart()">
              <i class="fas fa-trash mr-2"></i>Clear
            </button>
            <button
              type="button"
              class="btn btn-success ml-auto mb-2"
              id="submitOrderBtn"
              data-order-url="{% url 'order_create' %}">
              <i class="fas fa-lock mr-2"></i>Submit Order
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div aria-live="polite" aria-atomic="true" style="position: fixed; bottom: 18px; right: 18px; z-index: 1080;">
    <div id="appToast" class="toast" data-delay="2200">
      <div class="toast-header">
        <strong class="mr-auto" id="toastTitle">Notice</strong>
        <small class="muted">now</small>
        <button type="button" class="ml-2 mb-1 close" style="color:var(--text)"
          data-dismiss="toast"><span>&times;</span></button>
      </div>
      <div class="toast-body" id="toastBody">&mdash;</div>
    </div>
  </div>
  {{ shop_products|json_script:"shop-products-data" }}
  {{ shop_rating_context|json_script:"shop-rating-context" }}
  {% endblock %}

