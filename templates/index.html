{% extends 'base.html' %}

{% block 'main-content' %}
  <!-- HERO -->
  <header class="hero py-4 py-lg-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-4 mb-lg-0 hero-left" data-aos="fade-right">
          <div class="d-flex flex-wrap align-items-center mb-3">
            <span class="badge badge-soft px-3 py-2 mr-2 mb-2">
              <i class="fas fa-check-circle mr-2"></i>Verified OEM cross
            </span>
            <span class="badge badge-ghost px-3 py-2 mr-2 mb-2">
              <i class="fas fa-shield-alt mr-2"></i>Trusted fitment
            </span>
          </div>

          <h1 class="display-4 font-weight-bold mb-3" style="line-height:1.05;">
            Clarity for the people shaping <span style="color:var(--brand)">smart part</span> decisions.
          </h1>

          <p class="lead muted mb-4">
            Wahid Pro turns complex fitment and OEM data into crisp, confident decisions for garages,
            fleets, and serious parts buyers.
          </p>

          <div class="mt-4 d-flex flex-wrap">
            <button class="btn btn-primary btn-lg mr-2 mb-2"
              onclick="document.querySelector('#shop').scrollIntoView({behavior:'smooth'})">
              <i class="fas fa-store mr-2"></i>Browse Parts
            </button>
          </div>

          <div class="mt-3 muted">
            Focus: Ethiopia â€¢ Neutral, verified, decisive
          </div>
        </div>

        <div class="col-lg-6" data-aos="fade-left">
          <div class="hero-stack">
            <div class="hero-card hero-card--tilt">
              <div class="label">DAILY SIGNAL</div>
              <div class="title">The parts data you need, without the noise.</div>
              <div class="meta mt-2">Search, fitment, and OEM cross-reference in one place.</div>
            </div>

            <div class="hero-card">
              <div class="d-flex align-items-center justify-content-between mb-2">
                <div class="font-weight-bold">Coverage</div>
                <span class="badge badge-soft">Updated</span>
              </div>
              <div class="meta">Brakes â€¢ Filters â€¢ Ignition â€¢ Exhaust â€¢ Suspension</div>
            </div>

            <div class="hero-card compact">
              <div class="logo-badge">W</div>
              <div>
                <div class="label">WAHID PRO</div>
                <div class="meta">Independent spare-parts intelligence.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN SHOP -->
  <main class="py-4 mt-3" id="shop">
    <div class="container" data-aos="fade-up">
      <!-- TOP BAR -->
      <div class="d-flex flex-wrap align-items-center justify-content-between mb-3">
        <div class="d-flex align-items-center mb-2 mb-md-0">
          <h2 class="h4 font-weight-bold mb-0 mr-3">Shop Parts</h2>
          <span class="muted">Showing <b id="resultCount">0</b> items</span>
          <span class="badge badge-ghost ml-3 d-none d-md-inline" id="savedVehicle">No vehicle saved</span>
        </div>

        <div class="d-flex align-items-center">
          <button class="btn btn-outline-light mr-2" data-toggle="modal" data-target="#filtersModal">
            <i class="fas fa-sliders-h mr-2"></i>Filters
            <span class="badge badge-light ml-2" id="activeFilters">0</span>
          </button>

          <select class="custom-select mr-2" id="sortBy" style="width:220px">
            <option value="relevance">Sort: Relevance</option>
            <option value="priceAsc">Price: Low to High</option>
            <option value="priceDesc">Price: High to Low</option>
            <option value="ratingDesc">Rating: High to Low</option>
            <option value="stockDesc">Stock: High to Low</option>
          </select>

          <button class="btn btn-outline-light" id="btnReset">
            <i class="fas fa-undo mr-2"></i>Reset
          </button>
        </div>
      </div>

      <!-- GRID -->
      <div class="row" id="productGrid">
        <!-- skeletons -->
      </div>

      <div class="text-center mt-3">
        <button class="btn btn-outline-light" id="btnLoadMore">
          <i class="fas fa-plus mr-2"></i>Load More (demo)
        </button>
      </div>
    </div>
  </main>

  <!-- GUIDES -->
  <section class="py-4" id="guides">
    <div class="container" data-aos="fade-up">
      <div class="panel">
        <div class="panel-h d-flex align-items-center justify-content-between">
          <div class="font-weight-bold"><i class="fas fa-book mr-2"></i>Install Guides (Sample)</div>
          <span class="muted small">Short, high-signal content blocks</span>
        </div>
        <div class="panel-b">
          <div class="row">
            <div class="col-md-4 mb-3">
              <div class="panel" style="background:var(--glass2)">
                <div class="panel-b">
                  <div class="font-weight-bold mb-1">Brake Pads</div>
                  <div class="muted small mb-2">Torque specs, bedding, safety checks.</div>
                  <button class="btn btn-outline-light btn-sm"
                    onclick="toast('Guide', 'Brake pad guide opened (demo).')">
                    <i class="fas fa-arrow-right mr-2"></i>Open
                  </button>
                </div>
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <div class="panel" style="background:var(--glass2)">
                <div class="panel-b">
                  <div class="font-weight-bold mb-1">Oil Filter</div>
                  <div class="muted small mb-2">Correct thread, gasket lube, hand-tight.</div>
                  <button class="btn btn-outline-light btn-sm"
                    onclick="toast('Guide', 'Oil filter guide opened (demo).')">
                    <i class="fas fa-arrow-right mr-2"></i>Open
                  </button>
                </div>
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <div class="panel" style="background:var(--glass2)">
                <div class="panel-b">
                  <div class="font-weight-bold mb-1">Spark Plugs</div>
                  <div class="muted small mb-2">Gap, anti-seize (engine-specific), torque.</div>
                  <button class="btn btn-outline-light btn-sm"
                    onclick="toast('Guide', 'Spark plug guide opened (demo).')">
                    <i class="fas fa-arrow-right mr-2"></i>Open
                  </button>
                </div>
              </div>
            </div>
          </div>

          <hr class="divider">

          <div class="row align-items-center">
            <div class="col-md-7 mb-3 mb-md-0">
              <h5 class="font-weight-bold mb-1">Newsletter for Mechanics</h5>
              <div class="muted">Deals, common OEM cross references, and fitment tips.</div>
            </div>
            <div class="col-md-5">
              <div class="input-group">
                <input class="form-control" id="newsEmail" placeholder="your@email.com" />
                <div class="input-group-append">
                  <button class="btn btn-primary" onclick="toast('Subscribed', 'Thanks! (demo)')">
                    <i class="fas fa-paper-plane"></i>
                  </button>
                </div>
              </div>
              <small class="muted">No spam. Demo only.</small>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- SUPPORT -->
  <section class="py-4" id="support">
    <div class="container" data-aos="fade-up">
      <div class="row">
        <div class="col-lg-7 mb-3">
          <div class="panel">
            <div class="panel-h font-weight-bold"><i class="fas fa-headset mr-2"></i>Support</div>
            <div class="panel-b">
              <div class="row">
                <div class="col-md-6 mb-3">
                  <div class="panel" style="background:var(--glass2)">
                    <div class="panel-b">
                      <div class="font-weight-bold mb-1">Need the exact part?</div>
                      <div class="muted small mb-2">Send OEM/VIN (placeholder) & weâ€™ll match it.</div>
                      <button class="btn btn-outline-light btn-sm" onclick="toast('Support', 'Ticket started (demo).')">
                        <i class="fas fa-paper-plane mr-1"></i>Start Ticket
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 mb-3">
                  <div class="panel" style="background:var(--glass2)">
                    <div class="panel-b">
                      <div class="font-weight-bold mb-1">Bulk orders</div>
                      <div class="muted small mb-2">Fleet pricing & invoice checkout.</div>
                      <button class="btn btn-outline-light btn-sm" onclick="toast('Sales', 'Quote requested (demo).')">
                        <i class="fas fa-file-invoice-dollar mr-1"></i>Request Quote
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <hr class="divider">

              <div class="d-flex flex-wrap align-items-center justify-content-between">
                <div class="mb-2 mb-md-0">
                  <div class="font-weight-bold">Email</div>
                  <div class="muted small">support@wahid.example</div>
                </div>
                <div class="mb-2 mb-md-0">
                  <div class="font-weight-bold">Phone</div>
                  <div class="muted small">+251 000 000 000 (sample)</div>
                </div>
                <div>
                  <div class="font-weight-bold">Hours</div>
                  <div class="muted small">Monâ€“Sat, 9:00â€“18:00</div>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="col-lg-5 mb-3">
          <div class="panel">
            <div class="panel-h font-weight-bold"><i class="fas fa-info-circle mr-2"></i>Sample Image Credits</div>
            <div class="panel-b muted small">
              Images are loaded from Wikimedia Commons (free media repository), via <b>Special:FilePath</b>.
              Replace with your own product photos anytime.
              <ul class="mb-0 mt-2">
                <li>Car workshop tools (hero)</li>
                <li>Brake pads / brake shoes</li>
                <li>Spark plugs</li>
                <li>Bosch oil filter</li>
                <li>Air filter</li>
                <li>Diesel particulate filter</li>
                <li>Shock absorber (suspension)</li>
              </ul>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <!-- FOOTER -->
  <footer class="footer py-4 mt-4">
    <div class="container" data-aos="fade-up">
      <div class="row">
        <div class="col-md-6">
          <div class="font-weight-bold">Wahid Pro</div>
          <div class="muted small">Mind-blowing Bootstrap spare-parts e-commerce UI (single-file demo).</div>
        </div>
        <div class="col-md-6 text-md-right mt-3 mt-md-0">
          <a href="#shop" class="mr-3">Shop</a>
          <a href="#fitment" class="mr-3">Fitment</a>
          <a href="#deals" class="mr-3">Deals</a>
          <a href="#support">Support</a>
        </div>
      </div>

    </div>
  </footer>

  <!-- FLOATING COMPARE DOCK -->
  <div class="dock" id="compareDock">
    <div class="inner">
      <div class="d-flex align-items-center justify-content-between flex-wrap">
        <div class="d-flex align-items-center">
          <div class="font-weight-bold mr-3"><i class="fas fa-balance-scale mr-2"></i>Compare</div>
          <div class="muted small">Select up to 3 parts</div>
        </div>
        <div class="d-flex align-items-center mt-2 mt-md-0">
          <div class="mini mr-2"><span class="muted">Selected:</span> <b id="dockCount">0</b></div>
          <button class="btn btn-primary mr-2" data-toggle="modal" data-target="#compareModal">
            <i class="fas fa-columns mr-2"></i>Open
          </button>
          <button class="btn btn-outline-light" onclick="clearCompare()">
            <i class="fas fa-trash mr-2"></i>Clear
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- FILTERS MODAL (mobile-first filters) -->
  <div class="modal fade" id="filtersModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold"><i class="fas fa-sliders-h mr-2"></i>Advanced Filters</h5>
          <button type="button" class="close" style="color:var(--text)"
            data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-lg-6">
              <div class="panel mb-3">
                <div class="panel-h font-weight-bold">Category</div>
                <div class="panel-b">
                  <select class="custom-select" id="filterCategory">
                    <option value="All">All</option>
                    <option value="Brakes">Brakes</option>
                    <option value="Filters">Filters</option>
                    <option value="Ignition">Ignition</option>
                    <option value="Exhaust">Exhaust</option>
                    <option value="Suspension">Suspension</option>
                  </select>
                </div>
              </div>

              <div class="panel mb-3">
                <div class="panel-h font-weight-bold">Brand</div>
                <div class="panel-b">
                  <select class="custom-select" id="filterBrand">
                    <option value="All">All</option>
                    <option value="Bosch">Bosch</option>
                    <option value="NGK">NGK</option>
                    <option value="OEM">OEM</option>
                    <option value="Brembo">Brembo</option>
                    <option value="KYB">KYB</option>
                  </select>
                </div>
              </div>

              <div class="panel">
                <div class="panel-h font-weight-bold">Condition</div>
                <div class="panel-b">
                  <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="condNew" checked>
                    <label class="custom-control-label" for="condNew">New</label>
                  </div>
                  <div class="custom-control custom-checkbox mt-2">
                    <input type="checkbox" class="custom-control-input" id="condRefurb">
                    <label class="custom-control-label" for="condRefurb">Refurbished</label>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-6">
              <div class="panel mb-3">
                <div class="panel-h font-weight-bold">Price Range (USD)</div>
                <div class="panel-b">
                  <div class="form-row">
                    <div class="col-6">
                      <input class="form-control" id="minPrice" placeholder="Min" type="number" min="0" />
                    </div>
                    <div class="col-6">
                      <input class="form-control" id="maxPrice" placeholder="Max" type="number" min="0" />
                    </div>
                  </div>
                  <small class="muted">Example: 10 â€” 120</small>
                </div>
              </div>

              <div class="panel mb-3">
                <div class="panel-h font-weight-bold">Rating</div>
                <div class="panel-b">
                  <div class="custom-control custom-radio">
                    <input type="radio" id="rAll" name="rating" class="custom-control-input" checked>
                    <label class="custom-control-label" for="rAll">Any</label>
                  </div>
                  <div class="custom-control custom-radio mt-2">
                    <input type="radio" id="r4" name="rating" class="custom-control-input">
                    <label class="custom-control-label" for="r4">4â˜… & up</label>
                  </div>
                  <div class="custom-control custom-radio mt-2">
                    <input type="radio" id="r45" name="rating" class="custom-control-input">
                    <label class="custom-control-label" for="r45">4.5â˜… & up</label>
                  </div>
                </div>
              </div>

              <div class="panel">
                <div class="panel-h font-weight-bold">Stock</div>
                <div class="panel-b">
                  <select class="custom-select" id="filterStock">
                    <option value="All">Any stock</option>
                    <option value="In">In stock</option>
                    <option value="Low">Low stock (â‰¤ 5)</option>
                  </select>
                </div>
              </div>

            </div>
          </div>

          <hr class="divider">

          <div class="d-flex flex-wrap">
            <button class="btn btn-primary mr-2 mb-2" id="btnApply" data-dismiss="modal">
              <i class="fas fa-check mr-2"></i>Apply
            </button>
            <button class="btn btn-outline-light mb-2" id="btnReset2" data-dismiss="modal">
              <i class="fas fa-undo mr-2"></i>Reset
            </button>
            <div class="ml-auto muted mt-2">Tip: Filters + search are combined for â€œinstant narrowingâ€.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- QUICK VIEW MODAL -->
  <div class="modal fade" id="quickView" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold" id="qvTitle">Product</h5>
          <button type="button" class="close" style="color:var(--text)"
            data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-6 mb-3 mb-md-0">
              <div class="p-img" style="border-radius:16px; border:1px solid var(--line)">
                <img id="qvImg" alt="Product image" src="">
              </div>
              <div class="muted small mt-2" id="qvMeta"></div>

              <div class="panel mt-3" style="background:var(--glass2)">
                <div class="panel-b">
                  <div class="font-weight-bold mb-2"><i class="fas fa-link mr-2"></i>OEM Cross (sample)</div>
                  <div class="muted small" id="qvCross">â€”</div>
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <div class="d-flex align-items-center justify-content-between">
                <div class="price h3 mb-0" id="qvPrice">$0</div>
                <div class="rating" id="qvRating"></div>
              </div>

              <p class="muted mt-2" id="qvDesc"></p>

              <div class="panel" style="background:var(--glass2)">
                <div class="panel-b">
                  <div class="d-flex align-items-center justify-content-between mb-2">
                    <div class="font-weight-bold"><i class="fas fa-car mr-2"></i>Fitment</div>
                    <span class="badge badge-soft" id="qvFitBadge">Not checked</span>
                  </div>
                  <ul class="muted mb-0" style="padding-left:18px">
                    <li>Vehicle: Sedan / Hatchback (placeholder)</li>
                    <li>Engine: 1.6â€“2.0L (placeholder)</li>
                    <li>OEM cross: shown above (placeholder)</li>
                  </ul>
                </div>
              </div>

              <div class="d-flex mt-3">
                <button class="btn btn-success btn-block mr-2" id="qvAdd">
                  <i class="fas fa-cart-plus mr-2"></i>Add to Cart
                </button>
                <button class="btn btn-outline-light btn-block" id="qvWish">
                  <i class="fas fa-heart mr-2"></i>Wishlist
                </button>
              </div>

              <div class="d-flex mt-2">
                <button class="btn btn-outline-light btn-block mr-2" id="qvCompare">
                  <i class="fas fa-balance-scale mr-2"></i>Compare
                </button>
                <button class="btn btn-outline-light btn-block" onclick="toast('Share', 'Share link copied (demo).')">
                  <i class="fas fa-share-alt mr-2"></i>Share
                </button>
              </div>

              <div class="mt-3 muted small">
                SKU: <span id="qvSku" class="kbd">â€”</span>
                <span class="ml-2">â€¢</span>
                <span class="ml-2">Stock: <b id="qvStock">â€”</b></span>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-light" data-dismiss="modal">Close</button>
          <button class="btn btn-primary" data-toggle="modal" data-target="#cartModal" data-dismiss="modal">
            <i class="fas fa-shopping-cart mr-2"></i>Go to Cart
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- FITMENT WIZARD MODAL -->
  <div class="modal fade" id="fitmentWizard" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold"><i class="fas fa-magic mr-2"></i>Fitment Wizard</h5>
          <button type="button" class="close" style="color:var(--text)"
            data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="panel mb-3" style="background:var(--glass2)">
            <div class="panel-b">
              <div class="d-flex align-items-center justify-content-between">
                <div class="font-weight-bold">Step <span id="wizStep">1</span> / 3</div>
                <div class="muted small" id="wizHint">Select a Make</div>
              </div>
              <div class="progress mt-2" style="height:10px;border-radius:999px;background:rgba(255,255,255,.08)">
                <div class="progress-bar" id="wizProg"
                  style="width:33%;border-radius:999px;background:linear-gradient(90deg,var(--brand),var(--brand2));">
                </div>
              </div>
            </div>
          </div>

          <div id="wizBody"></div>

        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-light" id="wizBack">Back</button>
          <button class="btn btn-primary" id="wizNext">Next</button>
        </div>
      </div>
    </div>
  </div>

  <!-- COMPARE MODAL -->
  <div class="modal fade" id="compareModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold"><i class="fas fa-balance-scale mr-2"></i>Compare Parts</h5>
          <button type="button" class="close" style="color:var(--text)"
            data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="muted mb-3">Compare is stored in localStorage. Select up to 3 items.</div>
          <div class="table-responsive">
            <table class="table table-dark table-hover mb-0" style="background:transparent;">
              <thead>
                <tr>
                  <th>Field</th>
                  <th id="c1">â€”</th>
                  <th id="c2">â€”</th>
                  <th id="c3">â€”</th>
                </tr>
              </thead>
              <tbody id="compareTable"></tbody>
            </table>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-light" onclick="clearCompare()"><i class="fas fa-trash mr-2"></i>Clear</button>
          <button class="btn btn-primary" data-dismiss="modal">Done</button>
        </div>
      </div>
    </div>
  </div>

  <!-- CART MODAL -->
  <div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title font-weight-bold"><i class="fas fa-shopping-cart mr-2"></i>Your Cart</h5>
          <button type="button" class="close" style="color:var(--text)"
            data-dismiss="modal"><span>&times;</span></button>
        </div>
        <div class="modal-body">
          <div class="table-responsive">
            <table class="table table-dark table-hover mb-0" style="background:transparent;">
              <thead>
                <tr>
                  <th>Item</th>
                  <th>SKU</th>
                  <th class="text-right">Price</th>
                  <th class="text-center">Qty</th>
                  <th class="text-right">Total</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="cartTable"></tbody>
            </table>
          </div>

          <div class="d-flex align-items-center justify-content-between mt-3">
            <div class="muted">
              Shipping calculated at checkout (demo).
            </div>
            <div class="text-right">
              <div class="muted">Subtotal</div>
              <div class="h3 price mb-0" id="cartSubtotal">$0</div>
            </div>
          </div>

          <hr class="divider">

          <div class="d-flex flex-wrap">
            <button class="btn btn-outline-light mr-2 mb-2" onclick="clearCart()">
              <i class="fas fa-trash mr-2"></i>Clear
            </button>
            <button class="btn btn-outline-light mr-2 mb-2" data-dismiss="modal">
              <i class="fas fa-arrow-left mr-2"></i>Continue Shopping
            </button>
            <button class="btn btn-success ml-auto mb-2"
              onclick="toast('Checkout', 'Checkout flow is UI-only in this template.')">
              <i class="fas fa-lock mr-2"></i>Secure Checkout
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div aria-live="polite" aria-atomic="true" style="position: fixed; bottom: 18px; right: 18px; z-index: 1080;">
    <div id="appToast" class="toast" data-delay="2200">
      <div class="toast-header">
        <strong class="mr-auto" id="toastTitle">Notice</strong>
        <small class="muted">now</small>
        <button type="button" class="ml-2 mb-1 close" style="color:var(--text)"
          data-dismiss="toast"><span>&times;</span></button>
      </div>
      <div class="toast-body" id="toastBody">â€”</div>
    </div>
  </div>
  {% endblock %}